# Jark-alarm

### ジャーク検出による二度寝防止アラーム
#### 注1）起きるのはできるけど起き続けられない人向けのアラームです． 
#### 注2）多忙な浪人生が設計したため最低限の機能しかありません． 

従来の目覚ましと異なる点は、ジャーク（躍度/加加速度）を検出して動作する点です．つまり、「体が動いていない限り鳴り続ける」ということです．

ジャークとは加速度の1階微分であり、加速度の時間変化率を示します．（宇宙空間で使うのであれば単に加速度を検出するだけで済みますが、地球上では重力加速度の影響を受けるので、さらに微分する必要があります．※フィルターを付けるのはめんどかった）

基本的には普通の目覚ましと同じで、あらかじめ指定した時間になると動作モードに入ります．以降、ジャークを検出し、身体が動いていない限りアラームが鳴り続けます．布団から出てなにか作業をしていれば目覚ましは鳴りません．

さらに指定した動作継続時間（15分程度・流石にもう二度寝しないだろうという時間）を終えると自動終了します．

# 作り方
最低限のはんだ付けスキルを要します．

## 前提とする環境

- はんだごて・はんだを持っていること
- Arduino IDEがインストールされたPCを持っていること

## パーツリスト
すべて秋月電子通商から購入可能です．
 [電子ブザー 12mm UDB-05LFPN](https://akizukidenshi.com/catalog/g/g109704/)
 [電池ボックス 1/2AA×1本用 プラスチック リード付](https://akizukidenshi.com/catalog/g/g109704/)
 [Seeed XIAO BLE Sense nRF52840](https://akizukidenshi.com/catalog/g/g117342/)
[1/2AAサイズ形 バックアップリチウム電池 3.6V](https://akizukidenshi.com/catalog/g/g103222/)

## 組立方法
![enter image description here](https://files.seeedstudio.com/products/102010328/img/Seeeduino-XIAO-pin-out.jpg)
GNDピンにブザーのマイナスと電池のマイナスをつなぐ．
D7ピンにブザーのプラスをつなぐ．
3V3ピンに電池のプラスをつなぐ．

## IDEのセットアップとフラッシュ
リポジトリからinoファイルをダウンロードして書き込む．


# アラームの使い方
## 時刻設定


## ゼロ躍度時間の設定


# 参考プログラム
加速度検出部のコードの参考にしました．
[Seeed XIAO BLE nRF52840 Senseで6軸センサを使う](https://qiita.com/mizuhugu/items/47d56556ddab21049b7f)

-
